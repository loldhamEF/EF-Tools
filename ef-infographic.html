<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Executive Functioning Growth Cycle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .flow-arrow {
            position: relative;
            text-align: center;
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #7a5195;
        }
        .flow-arrow::after {
            content: '\2193';
            font-size: 2.5rem;
            font-weight: 600;
        }
         @media (min-width: 1024px) {
            .flow-arrow::after {
                content: '\2192';
            }
        }
        .gemini-card {
            background-color: #f3f4f6;
            border-left: 4px solid #7a5195;
            padding: 1rem;
            margin-top: 0.5rem;
            border-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#003f5c] mb-2">The Executive Functioning Growth Cycle</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">A visual guide to understanding, assessing, and improving the brain's 'CEO' skills for academic success.</p>
        </header>

        <main class="space-y-12">
            
            <section id="what-are-ef" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-6">1. What are Executive Functions?</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="text-center md:text-left">
                        <p class="text-lg mb-4">Executive functions are the high-level mental skills that act as your brain's management system. Think of them as the <strong class="text-[#7a5195]">CEO of your brain</strong>, helping you navigate tasks, manage emotions, and achieve your goals.</p>
                        <p class="text-lg">Developing these skills is crucial for success in school and in life, especially for planning projects, studying for exams, and managing daily responsibilities.</p>
                    </div>
                    <div class="flex justify-center items-center">
                         <div class="text-center p-6 border-4 border-dashed border-[#ffa600] rounded-full w-64 h-64 flex flex-col justify-center">
                            <h3 class="text-2xl font-bold text-[#003f5c]">Brain's CEO</h3>
                            <p class="text-[#7a5195] font-semibold mt-2">Plan & Organize</p>
                            <p class="text-[#bc5090] font-semibold">Manage Time</p>
                            <p class="text-[#ff764a] font-semibold">Initiate Tasks</p>
                            <p class="text-[#ffa600] font-semibold">Stay Focused</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="assessment-areas" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-6">2. Identifying Strengths & Weaknesses</h2>
                <p class="text-lg text-center max-w-3xl mx-auto mb-8">The first step is self-assessment. By rating themselves on a 1-5 scale, students can create a snapshot of their skills across five key areas. This helps identify where to focus their efforts.</p>
                <div class="chart-container">
                    <canvas id="efSkillsRadarChart"></canvas>
                </div>
                <p class="text-center text-gray-500 mt-4">This chart shows a sample student profile, highlighting stronger skills in Self-Advocacy and areas for growth in Time Management.</p>
            </section>

            <section id="workflow" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-8">3. The Growth Cycle Workflow</h2>
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-4 items-start">
                    <div class="text-center p-4 border-2 border-[#003f5c] rounded-lg h-full">
                        <div class="text-3xl font-bold text-white bg-[#003f5c] rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">1</div>
                        <h3 class="font-bold text-lg mb-1">Assess</h3>
                        <p class="text-sm">Students complete a self-report assessment at the start of the year.</p>
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="text-center p-4 border-2 border-[#7a5195] rounded-lg h-full">
                        <div class="text-3xl font-bold text-white bg-[#7a5195] rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">2</div>
                        <h3 class="font-bold text-lg mb-1">Set Goals</h3>
                        <p class="text-sm">With a teacher, students set 1-2 SMART goals based on their results.</p>
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="text-center p-4 border-2 border-[#bc5090] rounded-lg h-full">
                        <div class="text-3xl font-bold text-white bg-[#bc5090] rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">3</div>
                        <h3 class="font-bold text-lg mb-1">Monitor</h3>
                        <p class="text-sm">Teachers observe and track progress on specific behaviors in class.</p>
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="text-center p-4 border-2 border-[#ff764a] rounded-lg h-full">
                        <div class="text-3xl font-bold text-white bg-[#ff764a] rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">4</div>
                        <h3 class="font-bold text-lg mb-1">Check-In</h3>
                        <p class="text-sm">Student and teacher meet mid-semester to discuss progress and adjust strategies.</p>
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="text-center p-4 border-2 border-[#ffa600] rounded-lg h-full">
                        <div class="text-3xl font-bold text-white bg-[#ffa600] rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">5</div>
                        <h3 class="font-bold text-lg mb-1">Re-Assess</h3>
                        <p class="text-sm">Students complete a post-assessment at year-end to measure growth.</p>
                    </div>
                </div>
            </section>

            <section id="smart-goals" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-6">4. Taking Action with SMART Goals</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <p class="text-lg mb-4">A goal without a plan is just a wish. The SMART goal framework turns broad ideas into actionable steps.</p>
                        <ul class="list-none space-y-2">
                            <li><strong class="text-[#7a5195]">S</strong>pecific: What exactly will you do?</li>
                            <li><strong class="text-[#bc5090]">M</strong>easurable: How will you track progress?</li>
                            <li><strong class="text-[#ef5675]">A</strong>chievable: Is this realistic for you?</li>
                            <li><strong class="text-[#ff764a]">R</strong>elevant: Why does this goal matter?</li>
                            <li><strong class="text-[#ffa600]">T</strong>ime-Bound: What is your deadline?</li>
                        </ul>
                    </div>
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <h4 class="font-bold text-center mb-2">Example Goal: Improve Planning</h4>
                        <p class="text-sm"><strong>Goal:</strong> I will write down all assignments in my planner during my last class of the day, every day for the first quarter.</p>
                        <div class="chart-container !h-48 md:!h-56 mt-4">
                            <canvas id="goalTrackerChart"></canvas>
                        </div>
                        <p class="text-center text-xs text-gray-500 mt-2">Visualizing progress helps maintain motivation.</p>
                    </div>
                </div>
            </section>

            <section id="gemini-goals" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-6">âœ¨ Personalized Goal Strategies with Gemini</h2>
                <p class="text-lg text-center max-w-3xl mx-auto mb-8">Feeling stuck? Select an area you want to improve, and let our AI assistant help you brainstorm specific, actionable SMART goals.</p>
                <div class="max-w-xl mx-auto">
                    <label for="goal-area" class="block text-sm font-medium text-gray-700">Select a Focus Area:</label>
                    <select id="goal-area" name="goal-area" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-[#7a5195] focus:border-[#7a5195] sm:text-sm rounded-md">
                        <option>Time Management and Planning</option>
                        <option>Materials Management</option>
                        <option>Study Strategies</option>
                        <option>Goal Setting</option>
                        <option>Self-Advocacy and Mindset</option>
                    </select>
                    <button id="generate-goals-btn" class="mt-4 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#7a5195] hover:bg-[#5f3f7e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#7a5195]">
                        Generate Goal Ideas
                    </button>
                    <div id="gemini-output" class="mt-6">
                        <div id="loading-indicator" class="hidden text-center">
                            <p>Generating ideas...</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="results" class="bg-white rounded-lg shadow-md p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#003f5c] text-center mb-6">5. Measuring Growth and Success</h2>
                <p class="text-lg text-center max-w-3xl mx-auto mb-8">The cycle culminates in measurable growth. By comparing the pre-assessment to the post-assessment, students can see tangible evidence of their hard work and skill development over the school year.</p>
                <div class="chart-container">
                    <canvas id="growthComparisonChart"></canvas>
                </div>
                <p class="text-center text-gray-500 mt-4">This chart shows significant improvement across all five skill areas, demonstrating the effectiveness of the focused intervention.</p>
            </section>

        </main>

        <footer class="text-center mt-12 py-6 border-t">
            <p class="text-gray-500">This infographic is based on the Executive Functioning Assessment & Goal Setting Guide.</p>
        </footer>
    </div>

    <script>
        const tooltipPlugin = {
            tooltip: {
                callbacks: {
                    title: function(tooltipItems) {
                        const item = tooltipItems[0];
                        let label = item.chart.data.labels[item.dataIndex];
                        if (Array.isArray(label)) {
                            return label.join(' ');
                        } else {
                            return label;
                        }
                    }
                }
            }
        };

        const wrapLabel = (label) => {
            if (label.length > 16) {
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > 16 && currentLine.length > 0) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            }
            return label;
        };
        
        const originalLabels = [
            'Materials Management', 
            'Time Management and Planning', 
            'Study Strategies', 
            'Goal Setting', 
            'Self-Advocacy and Mindset'
        ];
        
        const wrappedLabels = originalLabels.map(wrapLabel);

        const radarCtx = document.getElementById('efSkillsRadarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: wrappedLabels,
                datasets: [{
                    label: 'Sample Student Profile',
                    data: [3, 2, 3, 4, 5],
                    backgroundColor: 'rgba(122, 81, 149, 0.2)',
                    borderColor: 'rgba(122, 81, 149, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(122, 81, 149, 1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(122, 81, 149, 1)'
                }]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            color: '#e2e8f0'
                        },
                        grid: {
                            color: '#e2e8f0'
                        },
                        pointLabels: {
                            font: {
                                size: 12
                            },
                            color: '#475569'
                        },
                        ticks: {
                            beginAtZero: true,
                            max: 5,
                            stepSize: 1,
                            backdropColor: 'rgba(255, 255, 255, 0.75)'
                        }
                    }
                },
                plugins: tooltipPlugin
            }
        });

        const goalTrackerCtx = document.getElementById('goalTrackerChart').getContext('2d');
        new Chart(goalTrackerCtx, {
            type: 'bar',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [
                    {
                        label: 'Goal Met',
                        data: [3, 4, 4, 5],
                        backgroundColor: '#7a5195',
                    },
                    {
                        label: 'Goal Missed',
                        data: [2, 1, 1, 0],
                        backgroundColor: '#e2e8f0',
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                maintainAspectRatio: false,
                scales: {
                    x: {
                        stacked: true,
                        ticks: {
                            display: false
                        },
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        stacked: true,
                         grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    tooltip: {
                         callbacks: {
                            title: (tooltipItems) => tooltipItems[0].label
                        }
                    }
                }
            }
        });

        const growthCtx = document.getElementById('growthComparisonChart').getContext('2d');
        new Chart(growthCtx, {
            type: 'bar',
            data: {
                labels: wrappedLabels,
                datasets: [
                    {
                        label: 'Pre-Assessment',
                        data: [3, 2, 3, 4, 5],
                        backgroundColor: '#ff764a',
                        borderColor: '#ff764a',
                        borderWidth: 1
                    },
                    {
                        label: 'Post-Assessment',
                        data: [4, 4, 5, 5, 5],
                        backgroundColor: '#003f5c',
                        borderColor: '#003f5c',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 5,
                        grid: {
                            color: '#e2e8f0'
                        }
                    },
                    x: {
                         grid: {
                            display: false
                        }
                    }
                },
                plugins: tooltipPlugin
            }
        });

        const generateGoalsBtn = document.getElementById('generate-goals-btn');
        const goalAreaSelect = document.getElementById('goal-area');
        const geminiOutput = document.getElementById('gemini-output');
        const loadingIndicator = document.getElementById('loading-indicator');

        generateGoalsBtn.addEventListener('click', async () => {
            const selectedArea = goalAreaSelect.value;
            loadingIndicator.classList.remove('hidden');
            geminiOutput.innerHTML = ''; 
            geminiOutput.appendChild(loadingIndicator);

            const systemPrompt = "You are an expert in academic coaching for high school students with executive functioning challenges. Generate three distinct, creative, and actionable SMART goal ideas for a student focusing on a specific area. Each goal should be a short, single paragraph. Frame them as if you are speaking directly to the student.";
            const userQuery = `Generate three SMART goal ideas for a high school student who wants to improve their skills in "${selectedArea}".`;
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                 generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "goals": {
                                type: "ARRAY",
                                items: {
                                    type: "OBJECT",
                                    properties: {
                                        "title": { "type": "STRING" },
                                        "description": { "type": "STRING" }
                                    }
                                }
                            }
                        }
                    }
                }
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                
                loadingIndicator.classList.add('hidden');

                if (result.candidates && result.candidates.length > 0) {
                    const json = result.candidates[0].content.parts[0].text;
                    const parsedJson = JSON.parse(json);
                    
                    parsedJson.goals.forEach(goal => {
                        const card = document.createElement('div');
                        card.className = 'gemini-card';
                        card.innerHTML = `<h4 class="font-bold text-[#5f3f7e]">${goal.title}</h4><p class="text-sm text-gray-700 mt-1">${goal.description}</p>`;
                        geminiOutput.appendChild(card);
                    });
                } else {
                    geminiOutput.innerHTML = '<p class="text-red-500">Sorry, something went wrong. Please try again.</p>';
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                loadingIndicator.classList.add('hidden');
                geminiOutput.innerHTML = '<p class="text-red-500">There was an error connecting to the AI service. Please check your connection and try again.</p>';
            }
        });

    </script>
</body>
</html>
